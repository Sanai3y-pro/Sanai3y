FINAL ENTITY RELATIONSHIPS (AFTER CORRECTIONS)

1) Craftsman — Services
   Relationship: 1 to M
   Participation: Craftsman (Partial), Service (Total)
   Meaning: Each craftsman can create many services.
            Each service must belong to one craftsman.

2) Category — Services
   Relationship: 1 to M
   Participation: Category (Partial), Service (Total)
   Meaning: Each service belongs to one category.
            A category may have zero or many services.

3) Client — Booking
   Relationship: 1 to M
   Participation: Client (Partial), Booking (Total)
   Meaning: A client can create multiple bookings.
            Each booking must belong to a client.

4) Craftsman — Violation
   Relationship: 1 to M
   Participation: Craftsman (Partial), Violation (Partial)
   Meaning: A violation may be related to a craftsman,
            but a craftsman may have zero or many violations.

5) Client — Violation
   Relationship: 1 to M
   Participation: Client (Partial), Violation (Partial)
   Meaning: A violation may be submitted by a client.
            A client can have zero or many violations.

6) Booking — Violation
   Relationship: 1 to M
   Participation: Booking (Partial), Violation (Total)
   Meaning: Each violation is related to one booking.
            A booking may have zero or many violations.

7) Booking — Service
   Relationship: M to 1
   Participation: Booking (Total), Service (Partial)
   Meaning: Each booking is made for exactly one service.
            A service can have many bookings.

8) Booking — PaymentTransaction
   Relationship: 1 to 0..1
   Participation: Booking (Partial), PaymentTransaction (Total)
   Meaning: A booking may or may not have a payment yet.
            Every payment transaction must belong to a booking.

9) Client — Address
   Relationship: 1 to M
   Participation: Client (Partial), Address (Total)
   Meaning: A client can have multiple saved addresses.
            Each address must belong to a client.

10) Craftsman — Address
    Relationship: 1 to 1
    Participation: Both Total
    Meaning: Each craftsman has exactly one address,
             and each address belongs to exactly one craftsman.

11) Client — Review
    Relationship: 1 to M
    Participation: Client (Partial), Review (Total)
    Meaning: A client may write multiple reviews.
             Each review must be written by a client.

12) Craftsman — Review
    Relationship: 1 to M
    Participation: Craftsman (Partial), Review (Total)
    Meaning: A craftsman may receive multiple reviews.
             Each review must belong to a craftsman.

13) Booking — Review
    Relationship: 1 to 1
    Participation: Booking (Partial), Review (Total)
    Meaning: A booking may have zero or one review.
             Each review must be linked to exactly one booking.

14) Booking — Address
    Relationship: M to 1
    Participation: Booking (Total), Address (Partial)
    Meaning: Each booking occurs at one address.
             An address may or may not be used in bookings.

15) Craftsman — Booking
    Relationship: 1 to M
    Participation: Craftsman (Partial), Booking (Total)
    Meaning: A craftsman can receive many bookings.
             Each booking must belong to a craftsman.

16) Client — PaymentTransaction
    Relationship: 1 to M
    Participation: Client (Partial), PaymentTransaction (Total)
    Meaning: A client can have many payment transactions.
             Each transaction must belong to a client.

18) Booking — Quotes
    Relationship: 1 to M
    Participation: Booking (Partial), Quote (Total)
    Meaning: A booking may receive multiple quotes.
             Each quote must belong to a booking.

19) Craftsman — Quotes
    Relationship: 1 to M
    Participation: Craftsman (Partial), Quote (Partial)
    Meaning: A craftsman may send multiple quotes.
             Each quote belongs to one craftsman.

hasnaa mohamed, [11/30/2025 4:03 AM]
20) Craftsman — Wallet
    Relationship: 1 to 1
    Participation: Craftsman (Total), Wallet (Total)
    Meaning: Each craftsman has exactly one wallet.
             Each wallet belongs to one craftsman.

21) Wallet — WalletTransaction
    Relationship: 1 to M
    Participation: Wallet (Partial), WalletTransaction (Total)
    Meaning: A wallet may have many transactions.
             Each transaction must belong to a wallet.

22) WalletTransaction — Booking
    Relationship: M to 1
    Participation: WalletTransaction (Partial), Booking (Partial)
    Meaning: A wallet transaction may reference a booking
             (e.g., commission), but not always required.

23) CommissionRecord — WalletTransaction
    Relationship: 1 to 0..1
    Participation: CommissionRecord (Total), WalletTransaction (Partial)
    Meaning: A commission record may or may not have an associated
             wallet transaction. If the commission becomes charged,
             one wallet transaction will be created.

24) CommissionRecord — Booking
    Relationship: 1 to 1
    Participation: Both Total
    Meaning: Each commission record belongs to one booking.
             Each booking generates one commission record.

25) CommissionRecord — Craftsman
    Relationship: 1 to M
    Participation: CommissionRecord (Total), Craftsman (Partial)
    Meaning: All commission records belong to a craftsman.
             A craftsman may have many commission records.
