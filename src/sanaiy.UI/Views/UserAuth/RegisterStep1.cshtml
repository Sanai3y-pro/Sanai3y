@model sanaiy.UI.ViewModels.RegisterStep1ViewModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Register – Step 1 | Sanaiy</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 flex items-center justify-center min-h-screen p-6">

    <div class="w-full max-w-4xl bg-white p-10 rounded-2xl shadow-xl">

        <!-- Steps Navigation -->
        <div class="flex justify-center items-center gap-6 mb-10">
            <div class="flex flex-col items-center">
                <div class="w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold">
                    1
                </div>
                <span class="text-gray-700 text-sm mt-1">Basic Info</span>
            </div>

            <div class="w-20 h-1 bg-gray-300"></div>

            <div class="flex flex-col items-center">
                <div class="w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center font-bold text-gray-500">
                    2
                </div>
                <span class="text-gray-400 text-sm mt-1">Details</span>
            </div>
        </div>

        <h1 class="text-3xl font-extrabold text-center text-black-600 mb-2">
            Join & Connect the Fastest Sani3y Community
        </h1>

        <p class="text-center text-gray-500 mb-10">
            Create your account and start connecting with trusted clients and craftsmen.
        </p>

        @if (!ViewData.ModelState.IsValid)
        {
            <div class="mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded">
                @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                {
                    <div>@error.ErrorMessage</div>

                }
            </div>
        }

        <!-- ⚠️ IMPORTANT — enctype added -->
        <form asp-action="RegisterStep1" method="post" enctype="multipart/form-data" class="space-y-6">


            <!-- Names -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="font-semibold">First Name</label>
                    <input asp-for="FName" class="w-full px-4 py-3 border rounded-lg" />
                    <span asp-validation-for="FName" class="text-red-500 text-sm"></span>
                </div>

                <div>
                    <label class="font-semibold">Last Name</label>
                    <input asp-for="LName" class="w-full px-4 py-3 border rounded-lg" />
                    <span asp-validation-for="LName" class="text-red-500 text-sm"></span>
                </div>
            </div>

            <!-- Phone -->
            <div>
                <label class="font-semibold">Phone Number</label>
                <input asp-for="Phone" class="w-full px-4 py-3 border rounded-lg" />
                <span asp-validation-for="Phone" class="text-red-500 text-sm"></span>
            </div>

            <!-- Full Address -->
            <div>
                <label class="font-semibold">Full Address</label>
                <input asp-for="FullAddress" class="w-full px-4 py-3 border rounded-lg" />
                <span asp-validation-for="FullAddress" class="text-red-500 text-sm"></span>
            </div>

            <!-- City -->
            <div>
                <label class="font-semibold">City</label>
                <select asp-for="City" class="w-full px-4 py-2 border rounded appearance-auto">
                    <option value="">Select your city</option>
                    <option>Cairo</option>
                    <option>Giza</option>
                    <option>Alexandria</option>
                    <option>Qalyubia</option>
                    <option>Sharqia</option>
                    <option>Dakahlia</option>
                    <option>Gharbia</option>
                    <option>Kafr El Sheikh</option>
                    <option>Monufia</option>
                    <option>Beheira</option>
                    <option>Fayoum</option>
                    <option>Beni Suef</option>
                    <option>Minya</option>
                    <option>Asyut</option>
                    <option>Sohag</option>
                    <option>Qena</option>
                    <option>Luxor</option>
                    <option>Aswan</option>
                    <option>Red Sea</option>
                    <option>South Sinai</option>
                    <option>North Sinai</option>
                    <option>Ismailia</option>
                    <option>Suez</option>
                    <option>Port Said</option>
                    <option>Damietta</option>
                    <option>New Valley</option>
                    <option>Matrouh</option>
                </select>

                <span asp-validation-for="City" class="text-red-500 text-sm"></span>
            </div>

            <!-- Address Type -->
            <div>
                <label class="font-semibold">Address Type</label>
                <select asp-for="AddressType" id="addressType" onchange="toggleOtherAddress()" class="w-full px-4 py-3 border rounded-lg">
                    <option value="">Select address type</option>
                    <option value="home">Home</option>
                    <option value="work">Work</option>
                    <option value="other">Other</option>
                </select>
                <span asp-validation-for="AddressType" class="text-red-500 text-sm"></span>

                <input asp-for="OtherAddressType"
                       id="otherAddressInput"
                       placeholder="Enter address type"
                       class="w-full px-4 py-3 border rounded-lg mt-3 hidden" />
            </div>

            <script>
                function toggleOtherAddress() {
                    const type = document.getElementById("addressType").value;
                    const box = document.getElementById("otherAddressInput");
                    box.classList.toggle("hidden", type !== "other");
                }
            </script>

            <!-- Email -->
            <div>
                <label class="font-semibold">Email Address</label>
                <input asp-for="Email" class="w-full px-4 py-3 border rounded-lg" />
                <span asp-validation-for="Email" class="text-red-500 text-sm"></span>
            </div>

            <!-- Password -->
            <div>
                <label class="font-semibold">Password</label>
                <input asp-for="Password" type="password" class="w-full px-4 py-3 border rounded-lg" />
                <span asp-validation-for="Password" class="text-red-500 text-sm"></span>
            </div>

            <!-- Profile Image -->
            <div>
                <label class="font-semibold">Profile Image</label>

                <input asp-for="ProfileImage"
                       type="file"
                       accept="image/*"
                       class="w-full px-4 py-3 border rounded-lg bg-white cursor-pointer"
                       required />
                <span asp-validation-for="ProfileImage" class="text-red-500 text-sm"></span>

                <!-- Register As -->
                <div>
                    <label class="font-semibold mb-2 block">Register as</label>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <label class="p-4 border rounded-lg flex items-center gap-3 cursor-pointer">
                            <input type="radio" asp-for="RegisterAs" value="client" checked />
                            <span class="font-semibold">Client</span>
                        </label>

                        <label class="p-4 border rounded-lg flex items-center gap-3 cursor-pointer">
                            <input type="radio" asp-for="RegisterAs" value="craftsman" />
                            <span class="font-semibold">Craftsman</span>
                        </label>
                    </div>
                </div>
                <br />

                <button type="submit"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-semibold text-lg">
                    Continue
                </button>

        </form>

    </div>

    <partial name="_ValidationScriptsPartial" />

</body>

</html>
