@using sanaiy.BLL.DTOs.Category
@model IEnumerable<CategoryListItemDto>

@{
    ViewData["Title"] = "Categories";
}
@{
    Layout = "_ClientLayout";
}


<!DOCTYPE html>
<html class="light" lang="en">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>@ViewData["Title"]</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#0D47A1",
                        "background-light": "#F7F9FC",
                        "background-dark": "#121212",
                        "footer-bg": "#1a253c",
                        "footer-bg-darker": "#0b3b9a",
                    },
                    fontFamily: {
                        display: ["Roboto", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        "lg": "0.75rem",
                        "xl": "1rem",
                        "full": "9999px"
                    },
                },
            },
        };
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        #header {
            z-index: 10;
        }

        .category-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .category-title {
            font-size: 36px;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 12px;
        }

        .category-slogan {
            font-size: 16px;
            color: #6B7280;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto 32px;
        }

        .categories-grid {
            display: grid;
            gap: 24px;
            grid-template-columns: repeat(3, 1fr);
        }

        .category-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 1px solid #E5E7EB;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }

        .category-card:hover {
            box-shadow: 0 8px 16px rgba(0, 90, 156, 0.12);
            transform: translateY(-4px);
        }

        .card-image {
            width: 100%;
            height: 200px;
            background-size: cover;
            background-position: center;
            background-color: #F3F4F6;
        }

        .card-content {
            padding: 16px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        .card-craft-name {
            font-size: 16px;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 8px;
        }

        .card-description {
            font-size: 13px;
            color: #6B7280;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Default image if category doesn't have one */
        .default-category-image {
            background: linear-gradient(135deg, #0D47A1 0%, #1976D2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            font-weight: bold;
        }
         @@media (max-width: 1024px) {
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .category-title {
                font-size: 28px;
            }
        }

        @@media (max-width: 768px) {
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            .category-title {
                font-size: 24px;
            }
            .category-slogan {
                font-size: 14px;
                margin-bottom: 24px;
            }
            .card-image {
                height: 160px;
            }
            .card-content {
                padding: 12px;
            }
            .card-craft-name {
                font-size: 14px;
            }
            .card-description {
                font-size: 12px;
            }
        }

        @@media (max-width: 640px) {
            .categories-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            .category-title {
                font-size: 20px;
            }
            .category-slogan {
                font-size: 13px;
            }
            .card-image {
                height: 150px;
            }
        } 
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
    <div class="relative flex min-h-screen w-full flex-col">
        <!-- Header -->


        <!-- Main content -->
        <main class="container mx-auto px-4 py-12 mt-[50px]">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">Our Services</h1>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Choose from our wide range of professional services. Each category is handled by skilled experts.
                </p>
            </div>

            @if (Model != null && Model.Any())
            {
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    @foreach (var category in Model)
                    {
                        <a href="@Url.Action("Services", "Category", new { id = category.Id })"
                           class="block bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border border-gray-200">

                            <!-- Category Image -->
                            @if (!string.IsNullOrEmpty(category.ImageUrl))
                            {
                                <img src="@category.ImageUrl" alt="@category.Name" class="h-48 w-full object-cover rounded-t-lg" />
                            }
                            else
                            {
                                <div class="h-48 bg-gradient-to-r from-blue-500 to-blue-700 flex items-center justify-center">
                                    <span class="text-white text-6xl font-bold">
                                        @category.Name.Substring(0, 1)
                                    </span>
                                </div>
                            }

                            <!-- Category Content -->
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-900 mb-2">@category.Name</h3>
                                <p class="text-gray-600 text-sm mb-4">
                                    @(category.Description ?? "Professional services in this category")
                                </p>
                                <div class="text-blue-600 font-medium text-sm">
                                    View Services →
                                </div>
                            </div>
                        </a>
                    }

                </div>
            }
            else
            {
                <div class="text-center py-12">
                    <p class="text-gray-500 text-lg">No categories available at the moment.</p>
                </div>
            }
        </main>
        <!-- Footer -->
        
    </div>
        

    <script>
         const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        if (btn && menu) {
            btn.addEventListener('click', () => {
                menu.classList.toggle('hidden');
            });
        }

        // User avatar dropdown functionality
        const userAvatar = document.querySelector('img[alt="User avatar"]');
        const userDropdown = document.getElementById('user-dropdown');

        if (userAvatar && userDropdown) {
            userAvatar.addEventListener('click', function (event) {
                event.stopPropagation(); // Prevent event bubbling
                userDropdown.classList.toggle('hidden'); // Toggle visibility
            });

            // Optional: Close dropdown when clicking outside
            document.addEventListener('click', function (event) {
                if (!userAvatar.contains(event.target) && !userDropdown.contains(event.target)) {
                    userDropdown.classList.add('hidden');
                }
            });
        }
    </script>
</body>
</html>